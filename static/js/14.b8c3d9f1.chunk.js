"use strict";(self.webpackChunkflow_project=self.webpackChunkflow_project||[]).push([[14],{7014:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var a=t(5043),r=t(1719),n=t(4282),o=t(8628),l=t(8602),i=t(3519),c=t(3814),d=t(1072),u=t(7417),h=t(9001),p=t(9722),m=t(579);const j="pJmbVWCV1NFQ7333Cmqj822hINsyguMW",x="https://api.baserow.io/api/database/rows/table/".concat("733326","/"),A="https://api.baserow.io/api/database/fields/password-authentication/",b=6167723;function g(){const e=(0,h.Zp)(),[s,t]=(0,a.useState)(""),[g,w]=(0,a.useState)(""),[f,_]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null);return(0,m.jsx)(i.A,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"80vh"},children:(0,m.jsx)(d.A,{children:(0,m.jsx)(l.A,{children:(0,m.jsx)(o.A,{style:{width:"25rem"},children:(0,m.jsxs)(o.A.Body,{className:"p-4",children:[(0,m.jsx)(o.A.Title,{as:"h3",className:"text-center mb-4",children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a (FLOW)"}),y&&(0,m.jsx)(r.A,{variant:"danger",children:y}),(0,m.jsxs)(c.A,{onSubmit:async t=>{t.preventDefault(),_(!0),v(null);try{const t={method:"get",url:"".concat(x,"?user_field_names=true&filter__user_name__equal=").concat(s),headers:{Authorization:"Token ".concat(j)}},a=await p.A.request(t);if(0===a.data.results.length)return v("User ID \u0e19\u0e35\u0e49\u0e44\u0e21\u0e48\u0e21\u0e35\u0e2d\u0e22\u0e39\u0e48\u0e43\u0e19\u0e23\u0e30\u0e1a\u0e1a"),void _(!1);const r=a.data.results[0],n=r.id,o={field_id:b,row_id:n,password:g},l={method:"post",url:A,headers:{Authorization:"Token ".concat(j),"Content-Type":"application/json"},data:o};!0===(await p.A.request(l)).data.is_correct?(localStorage.setItem("auth_user_id",n),localStorage.setItem("user",JSON.stringify(r)),e("/home")):(v("Password \u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07"),_(!1))}catch(a){console.error("Login Error:",a),v("\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d: "+a.message),_(!1)}},children:[(0,m.jsxs)(c.A.Group,{className:"mb-3",children:[(0,m.jsx)(c.A.Label,{children:"User ID (user_name)"}),(0,m.jsx)(c.A.Control,{type:"text",placeholder:"User ID",value:s,onChange:e=>t(e.target.value)})]}),(0,m.jsxs)(c.A.Group,{className:"mb-3",children:[(0,m.jsx)(c.A.Label,{children:"Password"}),(0,m.jsx)(c.A.Control,{type:"password",placeholder:"Password",value:g,onChange:e=>w(e.target.value)})]}),(0,m.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,m.jsx)(n.A,{variant:"primary",type:"submit",disabled:f,children:f?(0,m.jsx)(u.A,{animation:"border",size:"sm"}):"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})})]})]})})})})})}}}]);
//# sourceMappingURL=14.b8c3d9f1.chunk.js.map