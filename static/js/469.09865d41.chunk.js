"use strict";(self.webpackChunkflow_project=self.webpackChunkflow_project||[]).push([[469],{8469:(e,t,a)=>{a.r(t),a.d(t,{default:()=>G});var l=a(2555),n=a(5043),s=a(1719),r=a(4282),o=a(8628),i=a(8602),c=a(3519),d=a(3814),u=a(3083),h=a(1072),m=a(7417),x=a(9001),A=a(9722),v=a(7285),j=a(4625),g=a(3805),p=a(3806),N=a(7807),D=a(4294),S=a(6951),f=a(579);const b="https://api.baserow.io/api/database/rows/table/731547",C="Token pJmbVWCV1NFQ7333Cmqj822hINsyguMW",E="YOUR_GOOGLE_API_KEY_HERE",y="YOUR_GOOGLE_CALENDAR_ID_HERE",w=e=>{switch(e){case"\u0e2d\u0e19\u0e38\u0e21\u0e31\u0e15\u0e34\u0e41\u0e25\u0e49\u0e27":return"#28a745";case"\u0e15\u0e49\u0e2d\u0e07\u0e41\u0e01\u0e49\u0e44\u0e02":return"#dc3545";default:return"#ffc107"}},_=e=>{if(!e||e.includes("-"))return e;const t=e.split("/");return 3===t.length?"".concat(t[2],"-").concat(t[1],"-").concat(t[0]):e},F=e=>{if(!e)return"";try{const t=new Date(e),a=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();return"".concat(a,"/").concat(l,"/").concat(n)}catch(t){return e}};function G(){const[e,t]=(0,n.useState)([]),[a,G]=(0,n.useState)(!0),[k,O]=(0,n.useState)(null),[Y,I]=(0,n.useState)(!1),T=()=>I(!1),L=()=>I(!0),[M,B]=(0,n.useState)({id:0,Name:"",Date:"",EndDate:"",File:"",Status:1}),q=(e,t)=>{const a="Status"===e?parseInt(t):t;B(t=>(0,l.A)((0,l.A)({},t),{},{[e]:a}))};function z(){G(!0);let e={method:"get",url:"".concat(b,"/?user_field_names=true"),headers:{Authorization:C}};A.A.request(e).then(e=>{const a=e.data.results.map(e=>{var t,a;return{id:e.id,title:e.Name,start:e.Date,end:e.EndDate,backgroundColor:w(null===(t=e.Status)||void 0===t?void 0:t.value),borderColor:w(null===(a=e.Status)||void 0===a?void 0:a.value),extendedProps:e}});t(a),O(null)}).catch(e=>{console.log(e),O("\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e42\u0e2b\u0e25\u0e14\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2d\u0e35\u0e40\u0e27\u0e49\u0e19")}).finally(()=>{G(!1)})}const R=(e,t)=>{let a={method:"patch",url:"".concat(b,"/").concat(e,"/?user_field_names=true"),headers:{Authorization:C},data:t};A.A.request(a).then(()=>{I(!1),z(),O(null)}).catch(e=>{console.log(e),O("\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e2d\u0e31\u0e1b\u0e40\u0e14\u0e15\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25")})};return(0,n.useEffect)(()=>{z()},[]),a?(0,f.jsx)(m.A,{animation:"border",role:"status",className:"mt-5"}):(0,f.jsxs)(c.A,{className:"p-4",children:[(0,f.jsx)(h.A,{className:"mb-4",children:(0,f.jsxs)(i.A,{className:"text-center",children:[(0,f.jsx)("h1",{className:"mb-3",children:"\u0e22\u0e34\u0e19\u0e14\u0e35\u0e15\u0e49\u0e2d\u0e19\u0e23\u0e31\u0e1a\u0e2a\u0e39\u0e48 FLOW"}),(0,f.jsx)("p",{className:"lead",style:{color:"var(--tech-text)"},children:"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2d\u0e35\u0e40\u0e27\u0e19\u0e15\u0e4c\u0e41\u0e25\u0e30\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e43\u0e1a\u0e40\u0e2a\u0e23\u0e47\u0e08"})]})}),k&&(0,f.jsx)(s.A,{variant:"danger",className:"mb-4",children:k}),(0,f.jsxs)("div",{className:"bento-grid",children:[(0,f.jsx)(o.A,{className:"bento-box-large",children:(0,f.jsxs)(o.A.Body,{className:"p-4",children:[(0,f.jsx)(o.A.Title,{as:"h3",className:"mb-3",children:"\u0e1b\u0e0f\u0e34\u0e17\u0e34\u0e19\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21"}),(0,f.jsx)(v.A,{plugins:[j.A,g.A,p.A,N.Ay,D.A,S.A],googleCalendarApiKey:E,eventSources:[{events:e,color:"blue"},{id:"google",googleCalendarId:y,color:"#009688",textColor:"white"}],initialView:"dayGridMonth",headerToolbar:{left:"title",center:"",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek prev,next"},locale:"th",timeZone:"local",height:"auto",editable:!0,selectable:!0,dateClick:e=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?F(e):"";B({id:0,Name:"",Date:t,EndDate:t,File:"",Status:1})}(e.dateStr),L()},eventClick:e=>{var t,a,l;if("google"===(null===(t=e.event.source)||void 0===t?void 0:t.id))return void alert("Event: ".concat(e.event.title,"\n\u0e21\u0e32\u0e08\u0e32\u0e01 Google Calendar \u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e41\u0e01\u0e49\u0e44\u0e02\u0e43\u0e19\u0e23\u0e30\u0e1a\u0e1a\u0e19\u0e35\u0e49\u0e44\u0e14\u0e49"));const n=e.event.extendedProps,s=F(n.Date),r=F(n.EndDate)||s;B({id:n.id,Name:n.Name||"",Date:s,EndDate:r,File:(null===(a=n.File[0])||void 0===a?void 0:a.url)||"",Status:(null===(l=n.Status)||void 0===l?void 0:l.id)||1}),L()},eventDrop:e=>{var t;if("google"===(null===(t=e.event.source)||void 0===t?void 0:t.id))return alert("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e22\u0e49\u0e32\u0e22 Event \u0e17\u0e35\u0e48\u0e21\u0e32\u0e08\u0e32\u0e01 Google Calendar \u0e44\u0e14\u0e49"),void e.revert();if(window.confirm('\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e22\u0e49\u0e32\u0e22 Event "'.concat(e.event.title,'" \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?'))){const t={Date:e.event.start.toISOString(),EndDate:e.event.end?e.event.end.toISOString():null};R(e.event.id,t)}else e.revert()}})]})}),(0,f.jsx)(o.A,{children:(0,f.jsxs)(o.A.Body,{className:"d-flex flex-column text-center p-4",children:[(0,f.jsx)(o.A.Title,{as:"h3",children:"\u0e1a\u0e23\u0e34\u0e2b\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23 (Admin)"}),(0,f.jsx)(o.A.Text,{className:"mb-4",children:"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e2d\u0e35\u0e40\u0e27\u0e49\u0e19\u0e43\u0e2b\u0e21\u0e48, \u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e2a\u0e16\u0e32\u0e19\u0e30, \u0e41\u0e25\u0e30\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e43\u0e1a\u0e40\u0e2a\u0e23\u0e47\u0e08"}),(0,f.jsx)(r.A,{as:x.N_,to:"/customers",variant:"primary",size:"lg",className:"mt-auto",children:"\u0e44\u0e1b\u0e2b\u0e19\u0e49\u0e32\u0e1a\u0e23\u0e34\u0e2b\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23"})]})}),(0,f.jsx)(o.A,{children:(0,f.jsxs)(o.A.Body,{className:"d-flex flex-column text-center p-4",children:[(0,f.jsx)(o.A.Title,{as:"h3",children:"\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21 (Event)"}),(0,f.jsx)(o.A.Text,{className:"mb-4",children:"\u0e14\u0e39\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21\u0e17\u0e35\u0e48\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e1b\u0e34\u0e14\u0e23\u0e31\u0e1a\u0e41\u0e25\u0e30\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21"}),(0,f.jsx)(r.A,{as:x.N_,to:"/products/\u0e2d\u0e32\u0e08\u0e32\u0e23\u0e22\u0e4c\u0e41\u0e25\u0e30\u0e1a\u0e38\u0e04\u0e25\u0e32\u0e01\u0e23",variant:"outline-info",className:"mt-auto",children:"\u0e14\u0e39\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"})]})}),(0,f.jsx)(o.A,{children:(0,f.jsxs)(o.A.Body,{className:"d-flex flex-column text-center p-4",children:[(0,f.jsx)(o.A.Title,{as:"h3",children:"\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e23\u0e30\u0e1a\u0e1a"}),(0,f.jsx)(o.A.Text,{className:"mb-4",children:"\u0e17\u0e35\u0e48\u0e21\u0e32, \u0e40\u0e1b\u0e49\u0e32\u0e2b\u0e21\u0e32\u0e22, \u0e41\u0e25\u0e30\u0e27\u0e31\u0e15\u0e16\u0e38\u0e1b\u0e23\u0e30\u0e2a\u0e07\u0e04\u0e4c\u0e02\u0e2d\u0e07\u0e42\u0e1b\u0e23\u0e40\u0e08\u0e04"}),(0,f.jsx)(r.A,{as:x.N_,to:"/about",variant:"outline-secondary",className:"mt-auto",children:"\u0e2d\u0e48\u0e32\u0e19\u0e15\u0e48\u0e2d"})]})})]}),(0,f.jsxs)(u.A,{show:Y,onHide:T,children:[(0,f.jsx)(u.A.Header,{closeButton:!0,children:(0,f.jsx)(u.A.Title,{children:M.id>0?"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2d\u0e35\u0e40\u0e27\u0e49\u0e19":"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2d\u0e35\u0e40\u0e27\u0e49\u0e19\u0e43\u0e2b\u0e21\u0e48"})}),(0,f.jsxs)(u.A.Body,{children:[(0,f.jsxs)(d.A.Group,{className:"mb-3",children:[(0,f.jsx)(d.A.Label,{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e07\u0e32\u0e19"}),(0,f.jsx)(d.A.Control,{type:"text",value:M.Name,onChange:e=>q("Name",e.target.value)})]}),(0,f.jsxs)(h.A,{children:[(0,f.jsx)(i.A,{children:(0,f.jsxs)(d.A.Group,{className:"mb-3",children:[(0,f.jsx)(d.A.Label,{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19"}),(0,f.jsx)(d.A.Control,{type:"text",placeholder:"DD/MM/YYYY",value:M.Date,onChange:e=>q("Date",e.target.value)})]})}),(0,f.jsx)(i.A,{children:(0,f.jsxs)(d.A.Group,{className:"mb-3",children:[(0,f.jsx)(d.A.Label,{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e2a\u0e34\u0e49\u0e19\u0e2a\u0e38\u0e14"}),(0,f.jsx)(d.A.Control,{type:"text",placeholder:"DD/MM/YYYY",value:M.EndDate,onChange:e=>q("EndDate",e.target.value)})]})})]}),(0,f.jsxs)(d.A.Group,{className:"mb-3",children:[(0,f.jsx)(d.A.Label,{children:"\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e43\u0e1a\u0e40\u0e2a\u0e23\u0e47\u0e08 (Google Drive)"}),(0,f.jsx)(d.A.Control,{type:"text",placeholder:"https://drive.google.com/...",value:M.File,onChange:e=>q("File",e.target.value)})]}),(0,f.jsxs)(d.A.Group,{className:"mb-3",children:[(0,f.jsx)(d.A.Label,{children:"\u0e2a\u0e16\u0e32\u0e19\u0e30"}),(0,f.jsxs)(d.A.Select,{value:M.Status,onChange:e=>q("Status",e.target.value),children:[(0,f.jsx)("option",{value:"1",children:"\u0e23\u0e2d\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23"}),(0,f.jsx)("option",{value:"2",children:"\u0e2d\u0e19\u0e38\u0e21\u0e31\u0e15\u0e34\u0e41\u0e25\u0e49\u0e27"}),(0,f.jsx)("option",{value:"3",children:"\u0e15\u0e49\u0e2d\u0e07\u0e41\u0e01\u0e49\u0e44\u0e02"})]})]})]}),(0,f.jsxs)(u.A.Footer,{children:[M.id>0&&(0,f.jsx)(r.A,{variant:"danger",className:"me-auto",onClick:()=>function(e){if(!window.confirm("\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e02\u0e2d\u0e07 ".concat(M.Name," \u0e43\u0e0a\u0e48\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?")))return;let t={method:"delete",url:"".concat(b,"/").concat(e,"/"),headers:{Authorization:C}};A.A.request(t).then(()=>{I(!1),z()}).catch(e=>{console.log(e),O("\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25")})}(M.id),children:"\u0e25\u0e1a Event \u0e19\u0e35\u0e49"}),(0,f.jsx)(r.A,{variant:"secondary",onClick:T,children:"\u0e1b\u0e34\u0e14"}),(0,f.jsx)(r.A,{variant:"primary",onClick:M.id>0?()=>(e=>{const t=_(M.Date),a=_(M.EndDate),l=t?new Date(t).toISOString():null,n=a&&a!==t?new Date(a).toISOString():null;let s={Name:M.Name,Date:l,EndDate:n,File:M.File?[{url:M.File}]:[],Status:M.Status};R(e,s)})(M.id):()=>{if(M.Name.length<=0)return alert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e07\u0e32\u0e19"),!1;const e=_(M.Date),t=_(M.EndDate),a=e?new Date(e).toISOString():null,l=t&&t!==e?new Date(t).toISOString():null;let n={Name:M.Name,Date:a,EndDate:l,File:M.File?[{url:M.File}]:[],Status:M.Status},s={method:"post",url:"".concat(b,"/?user_field_names=true"),headers:{Authorization:C},data:n};A.A.request(s).then(()=>{I(!1),z(),O(null)}).catch(e=>{console.log(e),O("\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25")})},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]})]})}}}]);
//# sourceMappingURL=469.09865d41.chunk.js.map