"use strict";(self.webpackChunkflow_project=self.webpackChunkflow_project||[]).push([[14],{7014:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(5043),r=a(1719),n=a(4282),o=a(8628),l=a(8602),i=a(3519),c=a(3814),d=a(1072),u=a(7417),h=a(9001),p=a(9722),m=a(579);const j="pJmbVWCV1NFQ7333Cmqj822hINsyguMW",x="https://api.baserow.io/api/database/rows/table/".concat("733326","/"),A="https://api.baserow.io/api/database/fields/password-authentication/",w=6167723;function b(){(0,h.Zp)();const[e,t]=(0,s.useState)(""),[a,b]=(0,s.useState)(""),[g,f]=(0,s.useState)(!1),[_,y]=(0,s.useState)(null);return(0,m.jsx)(i.A,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"80vh"},children:(0,m.jsx)(d.A,{children:(0,m.jsx)(l.A,{children:(0,m.jsx)(o.A,{style:{width:"25rem"},children:(0,m.jsxs)(o.A.Body,{className:"p-4",children:[(0,m.jsx)(o.A.Title,{as:"h3",className:"text-center mb-4",children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a (FLOW)"}),_&&(0,m.jsx)(r.A,{variant:"danger",children:_}),(0,m.jsxs)(c.A,{onSubmit:async t=>{t.preventDefault(),f(!0),y(null);try{const t={method:"get",url:"".concat(x,"?user_field_names=true&filter__user_name__equal=").concat(e),headers:{Authorization:"Token ".concat(j)}},s=await p.A.request(t);if(0===s.data.results.length)return y("User ID \u0e19\u0e35\u0e49\u0e44\u0e21\u0e48\u0e21\u0e35\u0e2d\u0e22\u0e39\u0e48\u0e43\u0e19\u0e23\u0e30\u0e1a\u0e1a"),void f(!1);const r=s.data.results[0],n=r.id,o={field_id:w,row_id:n,password:a},l={method:"post",url:A,headers:{Authorization:"Token ".concat(j),"Content-Type":"application/json"},data:o};!0===(await p.A.request(l)).data.is_correct?(alert("\u0e25\u0e47\u0e2d\u0e01\u0e2d\u0e34\u0e19\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08!"),localStorage.setItem("auth_user_id",n),localStorage.setItem("user",JSON.stringify(r)),window.location.href="/home"):(y("Password \u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07"),f(!1))}catch(s){console.error("Login Error:",s),y("\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d: "+s.message),f(!1)}},children:[(0,m.jsxs)(c.A.Group,{className:"mb-3",children:[(0,m.jsx)(c.A.Label,{children:"User ID (user_name)"}),(0,m.jsx)(c.A.Control,{type:"text",placeholder:"\u0e4aUser ID",value:e,onChange:e=>t(e.target.value)})]}),(0,m.jsxs)(c.A.Group,{className:"mb-3",children:[(0,m.jsx)(c.A.Label,{children:"Password"}),(0,m.jsx)(c.A.Control,{type:"password",placeholder:"Password",value:a,onChange:e=>b(e.target.value)})]}),(0,m.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,m.jsx)(n.A,{variant:"primary",type:"submit",disabled:g,children:g?(0,m.jsx)(u.A,{animation:"border",size:"sm"}):"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})})]})]})})})})})}}}]);
//# sourceMappingURL=14.f14912bd.chunk.js.map